<link rel="import" href="../bower_components/polymer/polymer-element.html">

<link rel="import" href="zr-tmpl-page-layout.html">
<link rel="import" href="zr-common.html">
<link rel="import" href="zr-styles.html">

<link rel="lazy-import" href="zr-tmpl-button.html">

<dom-module id="zr-catalog-item-overview">
  <template>

    <style include="list-styles content-styles"></style>

    <zr-tmpl-page-layout 
      menu 
      title="[[itemInfo.primary_field]]" 
      loading="[[_computeLoading(loadingCollectionInfo, loadingItemInfo, loadingItemFields)]]">

      <zr-tmpl-button
        slot="action"
        label="EDIT"
        icon="edit-item"
        on-click="_editItemTapped"
        small="[[smallScreen]]"></zr-tmpl-button>
  
      <zr-tmpl-button
        slot="action"
        label="DELETE"
        icon="delete-item"
        on-click="_deleteItemTapped"
        small="[[smallScreen]]"></zr-tmpl-button>

      <div id="content" slot="content" class="content__page">
        
         [[collectionInfo.name]] [[itemInfo.primary_field]]

      </div>

    </zr-tmpl-page-layout>

  </template>

  <script>

    class ZRCatalogItemOverview extends Polymer.Element {

      static get is() { return 'zr-catalog-item-overview'; }

      static get properties() {
        return {

          itemInfo: Object,

          loadingItemInfo: Boolean,

          loadingCollectionInfo: Boolean,

          collecionInfo: Object,

          loadingItemFields: Boolean,

          smallScreen: Boolean,

          mediumScreen: Boolean
  
        }
      }

      _computeLoading(loadingCollectionInfo, loadingItemInfo, loadingItemFields) {
        return loadingCollectionInfo && loadingItemInfo; //&& loadingItemFields;
      }

    }

    window.customElements.define(ZRCatalogItemOverview.is, ZRCatalogItemOverview);

  </script>
</dom-module>
